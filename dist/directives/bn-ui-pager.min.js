/*!
 * angular-more v2.0.0 (https://github.com/BndyNet/angular-more#readme)
 * (c) 2014-2017 Bndy.Net (http://www.bndy.net)
 */

"use strict";angular.module("bn.ui.pager",[]).directive("bnUiPager",function(){return{restrict:"E",template:'<div class="bn-ui-pager" ng-show="model.recordCount > 0">\n    <div class="summary" ng-show="showSummary">\n        <span ng-bind="(model.currentPage - 1) * model.pageSize + 1"></span>\n        - <span ng-bind="model.currentPage * model.pageSize > model.recordCount ? model.recordCount : model.currentPage * model.pageSize"></span>\n        / <span ng-bind="model.recordCount"></span>\n    </div>\n    <nav aria-label="Page navigation">\n      <ul class="pagination" ng-show="model.pageCount > 1">\n        <li ng-class="{disabled: model.currentPage == 1}">\n          <a href="#" aria-label="Previous" ng-click="page(model.currentPage-1)">\n            <span aria-hidden="true">&laquo;</span>\n          </a>\n        </li>\n        <li ng-repeat="p in model.displayPageNumbers track by $index" ng-class="{active: model.currentPage == p, disabled: p < 0}">\n          <a href="#" ng-show="p > 0" ng-click="page(p)"><span ng-bind="p"></span></a>\n          <a href="#" ng-show="p < 0">...</a>\n        </li>\n        <li ng-class="{disabled: model.currentPage == model.pageCount}">\n          <a href="#" aria-label="Next" ng-click="page(model.currentPage+1)">\n            <span aria-hidden="true">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n</div>',replace:!0,scope:{model:"=ngModel",onPage:"&onPage"},link:function(a,b,c){"undefined"==typeof a.model&&(a.model={}),a.showSummary="undefined"==typeof c.showSummary||"true"===c.showSummary,"undefined"==typeof a.model.pageCount&&(a.model.pageCount=Math.ceil(a.model.recordCount/a.model.pageSize)),a.computePageNumbers=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(a.needComputePageNumber||"undefined"==typeof a.model.displayPageNumbers)if(a.model.displayPageNumbers=[],a.needComputePageNumber=!0,a.model.pageCount<=10)for(k=b=1,m=a.model.pageCount;1<=m?b<=m:b>=m;k=1<=m?++b:--b)a.model.displayPageNumbers.push(k);else if(a.model.currentPage<=5){for(k=c=1;c<=7;k=++c)a.model.displayPageNumbers.push(k);for(a.model.displayPageNumbers.push(-1),k=d=n=a.model.pageCount-1,p=a.model.pageCount;n<=p?d<=p:d>=p;k=n<=p?++d:--d)a.model.displayPageNumbers.push(k)}else if(a.model.currentPage>a.model.pageCount-5){for(q=[1,2],e=0,f=q.length;e<f;e++)k=q[e],a.model.displayPageNumbers.push(k);for(a.model.displayPageNumbers.push(-1),k=h=r=a.model.pageCount-6,s=a.model.pageCount;r<=s?h<=s:h>=s;k=r<=s?++h:--h)a.model.displayPageNumbers.push(k)}else{for(t=[1,2],i=0,g=t.length;i<g;i++)k=t[i],a.model.displayPageNumbers.push(k);for(a.model.displayPageNumbers.push(-1),k=j=u=a.model.currentPage-2,v=a.model.currentPage+2;u<=v?j<=v:j>=v;k=u<=v?++j:--j)a.model.displayPageNumbers.push(k);for(a.model.displayPageNumbers.push(-1),k=l=w=a.model.pageCount-1,o=a.model.pageCount;w<=o?l<=o:l>=o;k=w<=o?++l:--l)a.model.displayPageNumbers.push(k)}},a.page=function(b){b<=0&&(b=1),b>a.model.pageCount&&(b=a.model.pageCount),a.model.currentPage!==b&&(a.onPage&&a.onPage(b),a.model.currentPage=b,a.computePageNumbers())},a.$on("onModelChanged",function(){return a.computePageNumbers()}),a.computePageNumbers()}}});